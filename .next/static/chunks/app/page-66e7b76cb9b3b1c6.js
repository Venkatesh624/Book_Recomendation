(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1769:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),s=r(2115),l=r(6766),o=r(6874),i=r.n(o),n=r(5695);function c(){return(0,n.useRouter)(),(0,a.jsx)("nav",{className:"bg-blue-800 text-white p-4 shadow-md",children:(0,a.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,a.jsx)(i(),{href:"/",className:"text-2xl font-bold",children:"BookFinder"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)(i(),{href:"/books",className:"hover:text-blue-200",children:"Books"}),(0,a.jsx)(i(),{href:"/favorites",className:"hover:text-blue-200",children:"Favorites"})]})]})})}var d=r(2467),m=r(7963);function u(){let[e,t]=(0,s.useState)(0),r=[{id:"featured1",title:"Featured Book 1",description:"Discover this amazing story",image:"/banner1.jpg",cta:"Browse Now"},{id:"featured2",title:"Featured Book 2",description:"Award winning novel",image:"/banner2.jpg",cta:"Learn More"}];return(0,s.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%r.length)},5e3);return()=>clearInterval(e)},[r.length]),(0,a.jsxs)("div",{className:"relative w-full h-64 md:h-96 overflow-hidden",children:[(0,a.jsx)("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:"translateX(-".concat(100*e,"%)")},children:r.map(e=>(0,a.jsxs)("div",{className:"w-full flex-shrink-0 relative",children:[(0,a.jsx)(l.default,{src:e.image,alt:e.title,fill:!0,className:"object-cover",priority:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/30 flex items-center",children:(0,a.jsxs)("div",{className:"container mx-auto px-8 text-white",children:[(0,a.jsx)("h2",{className:"text-3xl md:text-5xl font-bold mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-lg md:text-xl mb-4 max-w-lg",children:e.description}),(0,a.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md",children:e.cta})]})})]},e.id))}),(0,a.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:r.map((r,s)=>(0,a.jsx)("button",{onClick:()=>t(s),className:"w-3 h-3 rounded-full transition-colors ".concat(e===s?"bg-white":"bg-white/50"),"aria-label":"Go to slide ".concat(s+1)},s))})]})}var x=r(2325);function h(){let[e,t]=(0,s.useState)([]),[r,l]=(0,s.useState)(!0),[o,i]=(0,s.useState)(""),{favorites:n,addFavorite:h,removeFavorite:b}=(0,s.useContext)(x.H);(0,s.useEffect)(()=>{(async()=>{try{l(!0);let e=await fetch("https://openlibrary.org/subjects/popular.json?limit=12"),r=(await e.json()).works.map(e=>{var t,r;return{id:e.key.replace("/works/",""),title:e.title,author:(null===(r=e.authors)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.name)||"Unknown Author",cover:e.cover_id?"https://covers.openlibrary.org/b/id/".concat(e.cover_id,"-L.jpg"):"/book-placeholder.jpg",year:e.first_publish_year,rating:(e.ratings_average||3*Math.random()+2).toFixed(1),description:e.first_publish_year?"Published in ".concat(e.first_publish_year):"Description not available"}});t(r)}catch(e){console.error("Failed to fetch books:",e)}finally{l(!1)}})()},[]);let g=e.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())||e.author.toLowerCase().includes(o.toLowerCase()));return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(c,{}),(0,a.jsx)(u,{}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)(m.A,{searchTerm:o,setSearchTerm:i}),(0,a.jsxs)("section",{className:"mb-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-black",children:"Popular Books"}),r?(0,a.jsx)("div",{className:"text-center py-12",children:"Loading books..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:g.map(e=>(0,a.jsx)(d.A,{book:e,onFavoriteToggle:()=>{n.some(t=>t.id===e.id)?b(e.id):h(e)},isFavorite:n.some(t=>t.id===e.id)},e.id))})]})]})]})}},2325:(e,t,r)=>{"use strict";r.d(t,{BookProvider:()=>o,H:()=>l});var a=r(5155),s=r(2115);let l=(0,s.createContext)();function o(e){let{children:t}=e,[r,o]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("bookFavorites");e&&o(JSON.parse(e))},[]),(0,a.jsx)(l.Provider,{value:{favorites:r,addFavorite:e=>{let t=[...r,e];o(t),localStorage.setItem("bookFavorites",JSON.stringify(t))},removeFavorite:e=>{let t=r.filter(t=>t.id!==e);o(t),localStorage.setItem("bookFavorites",JSON.stringify(t))}},children:t})}},2467:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155),s=r(6766),l=r(2115);function o(e){let{book:t,onFavoriteToggle:r,isFavorite:o}=e,[i,n]=(0,l.useState)(t.cover_id?"https://covers.openlibrary.org/b/id/".concat(t.cover_id,"-L.jpg"):"/book-placeholder.jpg");return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow hover:transform hover:scale-105 duration-200",children:[(0,a.jsx)("div",{className:"relative h-48",children:(0,a.jsx)(s.default,{src:i,alt:"".concat(t.title," cover"),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",onError:()=>n("/book-placeholder.jpg"),priority:!1})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-1 line-clamp-2",title:t.title,children:t.title}),(0,a.jsx)("p",{className:"text-gray-600 text-sm truncate",title:t.author,children:t.author||"Unknown Author"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-yellow-500 mr-1",children:"â˜…"}),(0,a.jsx)("span",{children:t.rating||"N/A"}),t.year&&(0,a.jsxs)("span",{className:"text-gray-500 text-sm ml-2",children:["(",t.year,")"]})]}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof r?r():console.warn("onFavoriteToggle is not a function")},className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat(o?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-100 hover:bg-blue-200 text-blue-800"),"aria-label":o?"Remove from favorites":"Add to favorites",children:o?"Remove":"Save"})]})]})]})}},4305:(e,t,r)=>{Promise.resolve().then(r.bind(r,1769))},7963:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(5155),s=r(2115);function l(e){let{searchTerm:t,setSearchTerm:r}=e,[l,o]=(0,s.useState)({genre:"",year:"",rating:""}),i=Array.from({length:30},(e,t)=>2023-t),n=e=>{let{name:t,value:r}=e.target;o(e=>({...e,[t]:r}))};return(0,a.jsx)("div",{className:"mb-8 bg-white p-4 rounded-lg shadow-sm",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Books"}),(0,a.jsx)("input",{type:"text",id:"search",value:t,onChange:e=>r(e.target.value),placeholder:"Title or author...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"genre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Genre"}),(0,a.jsxs)("select",{id:"genre",name:"genre",value:l.genre,onChange:n,className:"w-full md:w-40 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black",children:[(0,a.jsx)("option",{value:"",children:"All Genres"}),["Fiction","Non-Fiction","Mystery","Science Fiction","Biography","History"].map(e=>(0,a.jsx)("option",{value:e,className:"text-black",children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,a.jsxs)("select",{id:"year",name:"year",value:l.year,onChange:n,className:"w-full md:w-28 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black",children:[(0,a.jsx)("option",{value:"",children:"Any Year"}),i.map(e=>(0,a.jsx)("option",{value:e,className:"text-black",children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Rating"}),(0,a.jsxs)("select",{id:"rating",name:"rating",value:l.rating,onChange:n,className:"w-full md:w-20 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black",children:[(0,a.jsx)("option",{value:"",children:"Any"}),[1,2,3,4,5].map(e=>(0,a.jsxs)("option",{value:e,className:"text-black",children:[e,"+"]},e))]})]}),(0,a.jsx)("button",{onClick:()=>{o({genre:"",year:"",rating:""}),r("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md transition-colors",children:"Clear"})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[766,244,441,684,358],()=>t(4305)),_N_E=e.O()}]);