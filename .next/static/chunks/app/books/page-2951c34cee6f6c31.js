(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{2325:(e,r,t)=>{"use strict";t.d(r,{BookProvider:()=>o,H:()=>l});var a=t(5155),s=t(2115);let l=(0,s.createContext)();function o(e){let{children:r}=e,[t,o]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=localStorage.getItem("bookFavorites");e&&o(JSON.parse(e))},[]),(0,a.jsx)(l.Provider,{value:{favorites:t,addFavorite:e=>{let r=[...t,e];o(r),localStorage.setItem("bookFavorites",JSON.stringify(r))},removeFavorite:e=>{let r=t.filter(r=>r.id!==e);o(r),localStorage.setItem("bookFavorites",JSON.stringify(r))}},children:r})}},2467:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(5155),s=t(6766),l=t(2115);function o(e){let{book:r,onFavoriteToggle:t,isFavorite:o}=e,[i,n]=(0,l.useState)(r.cover_id?"https://covers.openlibrary.org/b/id/".concat(r.cover_id,"-L.jpg"):"/book-placeholder.jpg");return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow hover:transform hover:scale-105 duration-200",children:[(0,a.jsx)("div",{className:"relative h-48",children:(0,a.jsx)(s.default,{src:i,alt:"".concat(r.title," cover"),fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",onError:()=>n("/book-placeholder.jpg"),priority:!1})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-1 line-clamp-2",title:r.title,children:r.title}),(0,a.jsx)("p",{className:"text-gray-600 text-sm truncate",title:r.author,children:r.author||"Unknown Author"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-yellow-500 mr-1",children:"â˜…"}),(0,a.jsx)("span",{children:r.rating||"N/A"}),r.year&&(0,a.jsxs)("span",{className:"text-gray-500 text-sm ml-2",children:["(",r.year,")"]})]}),(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),"function"==typeof t?t():console.warn("onFavoriteToggle is not a function")},className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat(o?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-100 hover:bg-blue-200 text-blue-800"),"aria-label":o?"Remove from favorites":"Add to favorites",children:o?"Remove":"Save"})]})]})]})}},6147:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var a=t(5155),s=t(2115),l=t(2467),o=t(7963),i=t(2325);function n(){let[e,r]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[c,d]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/books"),t=await e.json();r(t)}catch(e){console.error("Error fetching books:",e)}finally{n(!1)}})()},[]);let m=e.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.author.toLowerCase().includes(c.toLowerCase()));return(0,a.jsx)(i.BookProvider,{children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Book Recommendations"}),(0,a.jsx)(o.A,{searchTerm:c,setSearchTerm:d}),t?(0,a.jsx)("div",{className:"text-center py-12",children:"Loading books..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:m.map(e=>(0,a.jsx)(l.A,{book:e},e.id))})]})})}},6734:(e,r,t)=>{Promise.resolve().then(t.bind(t,6147))},7963:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(5155),s=t(2115);function l(e){let{searchTerm:r,setSearchTerm:t}=e,[l,o]=(0,s.useState)({genre:"",year:"",rating:""}),i=Array.from({length:30},(e,r)=>2023-r),n=e=>{let{name:r,value:t}=e.target;o(e=>({...e,[r]:t}))};return(0,a.jsx)("div",{className:"mb-8 bg-white p-4 rounded-lg shadow-sm",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Books"}),(0,a.jsx)("input",{type:"text",id:"search",value:r,onChange:e=>t(e.target.value),placeholder:"Title or author...",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"genre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Genre"}),(0,a.jsxs)("select",{id:"genre",name:"genre",value:l.genre,onChange:n,className:"w-full md:w-40 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black",children:[(0,a.jsx)("option",{value:"",children:"All Genres"}),["Fiction","Non-Fiction","Mystery","Science Fiction","Biography","History"].map(e=>(0,a.jsx)("option",{value:e,className:"text-black",children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),(0,a.jsxs)("select",{id:"year",name:"year",value:l.year,onChange:n,className:"w-full md:w-28 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black",children:[(0,a.jsx)("option",{value:"",children:"Any Year"}),i.map(e=>(0,a.jsx)("option",{value:e,className:"text-black",children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"rating",className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Rating"}),(0,a.jsxs)("select",{id:"rating",name:"rating",value:l.rating,onChange:n,className:"w-full md:w-20 px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-black",children:[(0,a.jsx)("option",{value:"",children:"Any"}),[1,2,3,4,5].map(e=>(0,a.jsxs)("option",{value:e,className:"text-black",children:[e,"+"]},e))]})]}),(0,a.jsx)("button",{onClick:()=>{o({genre:"",year:"",rating:""}),t("")},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md transition-colors",children:"Clear"})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[766,441,684,358],()=>r(6734)),_N_E=e.O()}]);